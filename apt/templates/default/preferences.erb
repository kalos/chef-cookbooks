Package: *
Pin: release o=Debian,a=stable
Pin-Priority: 900

<% if @node[:apt][:extra_sources].include?("opscode") %>
Package: *
Pin: release o=apt.opscode.com,a=stable
Pin-Priority: 802

Package: *
Pin: release o=apt.opscode.com,a=testing
Pin-Priority: 801
<% end %>

<% if @node[:apt][:extra_sources].include?("backports") %>
Package: *
Pin: release a=lenny-backports
Pin-Priority: 800
<% end %>

Package: *
Pin: release o=Debian,a=testing
Pin-Priority: 700

Explanation: only if I say so
Package: *
Pin: release o=Debian
Pin-Priority: -10
